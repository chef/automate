<section class="policy-groups">
  <chef-loading-spinner *ngIf="policyGroupsListLoading" size="50"></chef-loading-spinner>
  <app-empty-state *ngIf="authFailure" moduleTitle="policyGroups" (resetKeyRedirection)="resetKeyTabRedirection($event)">
  </app-empty-state>
  <ng-container *ngIf="!policyGroupsListLoading && !authFailure">
    <div class="search-create-container">
      <app-infra-search-bar 
      (input)="onSearchChange($event.target.value)"
       placeHolder="Policyfiles group by name...">
      </app-infra-search-bar>
    </div>
    <div data-cy="empty-list" class="empty-section" *ngIf="!policyFiles.length || searchFlag && (searchArr.length === 0)">
      <img alt="No preview" src="/assets/img/no_preview.gif" />  
      <p *ngIf="searchValue !== ''">No results found for "{{searchValue}}".</p>    
      <p *ngIf="searchValue === ''">No policy groups available</p>
    </div>

    <div id="policy-group-table-container" *ngIf="policyFiles.length" data-cy="policy-group-table-container">
      <app-policy-groups-list
      *ngIf="!searchFlag"
        [policyFiles]= "policyFiles"
        [searchFlag]= "searchFlag">
      </app-policy-groups-list>
      <app-policy-groups-list
        *ngIf="searchFlag"
        [policyFiles]= "list"
        [searchFlag]="searchFlag">
      </app-policy-groups-list>
    </div>
  </ng-container>
</section>

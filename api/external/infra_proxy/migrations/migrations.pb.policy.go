// Code generated by protoc-gen-policy. DO NOT EDIT.
// source: external/infra_proxy/migrations/migrations.proto

package migrations

import (
	policy "github.com/chef/automate/api/external/iam/v2/policy"
	request "github.com/chef/automate/api/external/infra_proxy/migrations/request"
)

func init() {
	policy.MapMethodTo("/chef.automate.api.infra_proxy.migrations.InfraProxyMigration/GetMigrationStatus", "infra:infraServers", "infra:infraServers:get", "GET", "/api/v0/infra/servers/migrations/status/{migration_id}", func(unexpandedResource string, input interface{}) string {
		if m, ok := input.(*request.GetMigrationStatusRequest); ok {
			return policy.ExpandParameterizedResource(unexpandedResource, func(want string) string {
				switch want {
				case "migration_id":
					return m.MigrationId
				default:
					return ""
				}
			})
		}
		return ""
	})
	policy.MapMethodTo("/chef.automate.api.infra_proxy.migrations.InfraProxyMigration/CancelMigration", "infra:infraServers:{server_id}:migrations:{migration_id}", "infra:infraServers:get", "GET", "/api/v0/infra/servers/{server_id}/migrations/cancel_migration/{migration_id}", func(unexpandedResource string, input interface{}) string {
		if m, ok := input.(*request.CancelMigrationRequest); ok {
			return policy.ExpandParameterizedResource(unexpandedResource, func(want string) string {
				switch want {
				case "server_id":
					return m.ServerId
				case "migration_id":
					return m.MigrationId
				default:
					return ""
				}
			})
		}
		return ""
	})
	policy.MapMethodTo("/chef.automate.api.infra_proxy.migrations.InfraProxyMigration/GetStagedData", "infra:infraServers:migrations:{migration_id}", "infra:infraServers:get", "GET", "/api/v0/infra/servers/migrations/staged_data/{migration_id}", func(unexpandedResource string, input interface{}) string {
		if m, ok := input.(*request.GetStagedDataRequest); ok {
			return policy.ExpandParameterizedResource(unexpandedResource, func(want string) string {
				switch want {
				case "migration_id":
					return m.MigrationId
				default:
					return ""
				}
			})
		}
		return ""
	})
	policy.MapMethodTo("/chef.automate.api.infra_proxy.migrations.InfraProxyMigration/ConfirmPreview", "infra:infraServers:{server_id}:migrations:{migration_id}", "infra:infraServers:get", "GET", "/api/v0/infra/servers/{server_id}/migrations/confirm_preview/{migration_id}", func(unexpandedResource string, input interface{}) string {
		if m, ok := input.(*request.ConfirmPreview); ok {
			return policy.ExpandParameterizedResource(unexpandedResource, func(want string) string {
				switch want {
				case "server_id":
					return m.ServerId
				case "migration_id":
					return m.MigrationId
				default:
					return ""
				}
			})
		}
		return ""
	})
}

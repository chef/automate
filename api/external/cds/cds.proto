syntax = "proto3";

package chef.automate.api.cds;
option go_package = "github.com/chef/automate/api/external/cds";

import "api/external/cds/request/root.proto";
import "api/external/cds/response/root.proto";

import "google/protobuf/struct.proto";
import "google/api/annotations.proto";
import "protoc-gen-swagger/options/annotations.proto";

import "components/automate-grpc/protoc-gen-policy/iam/annotations.proto";

service Cds {
  /*
  GetContentItems

  Returns a list of CDS content metadata

  Authorization Action:
  ```
  cds:contentItems:list
  ```
  */
  rpc GetContentItems(cds.request.ContentItems) returns (cds.response.ContentItems) {
    option (google.api.http).get = "/api/beta/cds/content";
    option (chef.automate.api.iam.policy).resource = "content:items";
    option (chef.automate.api.iam.policy).action = "content:items:list";
  };

}
